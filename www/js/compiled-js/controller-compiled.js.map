{"version":3,"sources":["controller.js"],"names":[],"mappings":"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","file":"controller-compiled.js","sourcesContent":["/**\r\n * Created by UTOPIA SOFTWARE on 20/03/2017.\r\n */\r\n\r\n/**\r\n * file defines all View-Models, Controllers and Event Listeners used by the app\r\n *\r\n * The 'utopiasoftware.laundrymart' namespace has being defined in the base js file.\r\n * The author uses the terms 'method' and function interchangeably; likewise the terms 'attribute' and 'property' are\r\n * also used interchangeably\r\n */\r\n\r\n\r\n// define the controller namespace\r\nutopiasoftware.template.controller = {\r\n\r\n    /**\r\n     * method is used to handle the special event created by the intel xdk developer library. The special event (app.Ready)\r\n     * is triggered when ALL the hybrid app pluigins have been loaded/readied and also the document DOM content is ready\r\n     */\r\n    appReady: () => {\r\n\r\n        // initialise the onsen library\r\n        ons.ready(function () {\r\n            // set the default handler for the app\r\n            ons.setDefaultDeviceBackButtonListener(function(){\r\n                console.log(\"DEFAULT BACK BUTTON LISTENER\");\r\n                // just hide the loader for fun sake\r\n                $('#loader-modal').get(0).hide();\r\n            });\r\n\r\n            if(utopiasoftware.template.model.isAppReady === false){ // if app has not completed loading\r\n                $('#loader-modal').get(0).show(); // show loader\r\n            }\r\n\r\n        });\r\n\r\n        // set app ready flag to true\r\n        utopiasoftware.template.model.isAppReady = true;\r\n    },\r\n\r\n    /**\r\n     * object is view-model for swipe-delete page\r\n     */\r\n    swipeDeletePageViewModel: {\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(){\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            function loadPageOnAppReady(){\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if(!ons.isReady() || utopiasoftware.template.model.isAppReady === false){\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                var page = $('#template-navigator').get(0).topPage;\r\n                page.onDeviceBackButton = function(){\r\n                    ons.notification.confirm('Do you want to close the app?') // Ask for confirmation\r\n                        .then(function(index) {\r\n                            if (index === 1) { // OK button\r\n                                navigator.app.exitApp(); // Close the app\r\n                            }\r\n                        });\r\n                };\r\n\r\n                // listen for the change event of the carousel\r\n                $('#swipe-delete-page #swipe-delete-list ons-carousel').on(\"postchange\", function(postChangeEvent){\r\n                    console.log(\"AUTO SCROLL RATIO\", postChangeEvent.originalEvent.carousel.autoScrollRatio);\r\n                    // remove the carousel that was swiped away from its parent list\r\n                    $(this).remove();\r\n                    Materialize.toast('Item Deleted <ons-button modifier=\"quiet\" class=\"transparent light-green-text text-accent-3\">Undo</ons-button>', 2750);\r\n                });\r\n\r\n                // hide the loader\r\n                $('#loader-modal').get(0).hide();\r\n\r\n                // display a discovery feature\r\n                setTimeout(function(){\r\n                    $('.tap-target').tapTarget('open');\r\n                    console.log(\"DISCOVERY FEATURE\");\r\n                }, 500); // call this function again after half a second\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * object is view-model for fixed-header page\r\n     */\r\n    fixedHeaderPageViewModel: {\r\n\r\n        previousScrollPosition: 0,\r\n\r\n        currentScrollPosition: 0,\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(){\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            function loadPageOnAppReady(){\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if(!ons.isReady() || utopiasoftware.template.model.isAppReady === false){\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                var page = $('#template-navigator').get(0).topPage;\r\n                page.onDeviceBackButton = function(){\r\n                    ons.notification.confirm('Do you want to close the app?') // Ask for confirmation\r\n                        .then(function(index) {\r\n                            if (index === 1) { // OK button\r\n                                navigator.app.exitApp(); // Close the app\r\n                            }\r\n                        });\r\n                };\r\n\r\n\r\n                // add listen for the scene progress event. the listen will be used to collapse/expand the fixed header\r\n                $('#fixed-header-page .page__content').on(\"scroll\", utopiasoftware.template.controller.fixedHeaderPageViewModel.collapsibleHeaderHandler);\r\n                console.log(\"ADDED PROGRESS LISTENER\");\r\n\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.previousScrollPosition = 0;\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition = 0;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is triggered when page is shown\r\n         */\r\n        pageShow: function(){\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            function loadPageOnAppReady(){\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if(!ons.isReady() || utopiasoftware.template.model.isAppReady === false){\r\n                    setTimeout(loadPageOnAppReady, 800); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n\r\n                // hide the loader\r\n                $('#loader-modal').get(0).hide();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * method is used to listen for scroll event used to collapse or expanse the fixed header\r\n         *\r\n         * @param event\r\n         */\r\n        collapsibleHeaderHandler: function(event){\r\n            console.log(\"INSIDE PROGRESS LISTENER\");\r\n\r\n            // set the current scrolltop position\r\n            utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition = $(this).scrollTop();\r\n\r\n            if(utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition >\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.previousScrollPosition){ // user scrolled down\r\n                // set the current position as previous position\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.previousScrollPosition =\r\n                    utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition;\r\n\r\n                // check if the collapsible header has been previously hidden. if not, hide it\r\n                if(this.collapsibleHidden != true){ // collapsible header has not been hidden\r\n                    $('#fixed-header-1').css('display', 'none'); // hide collapsible\r\n                    this.collapsibleHidden = true; // flag that collapsible header has been hidden\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            if(utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition <\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.previousScrollPosition){ // user scrolled up\r\n                // set the current position as previous position\r\n                utopiasoftware.template.controller.fixedHeaderPageViewModel.previousScrollPosition =\r\n                    utopiasoftware.template.controller.fixedHeaderPageViewModel.currentScrollPosition;\r\n\r\n                // check if the collapsible header has been previously shown. if not, show it\r\n                if(this.collapsibleHidden == true){ // collapsible has been hidden\r\n                    // collapsible header has not been hidden\r\n                    $('#fixed-header-1').css('display', 'block'); // hide collapsible\r\n                    this.collapsibleHidden = false; // flag that collapsible header has been shown\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * object is view-model for login page\r\n     */\r\n    loginPageViewModel: {\r\n\r\n        /**\r\n         * event is triggered when page is initialised\r\n         */\r\n        pageInit: function(){\r\n\r\n            // call the function used to initialise the app page if the app is fully loaded\r\n            loadPageOnAppReady();\r\n\r\n            //function is used to initialise the page if the app is fully ready for execution\r\n            function loadPageOnAppReady(){\r\n                // check to see if onsen is ready and if all app loading has been completed\r\n                if(!ons.isReady() || utopiasoftware.template.model.isAppReady === false){\r\n                    setTimeout(loadPageOnAppReady, 500); // call this function again after half a second\r\n                    return;\r\n                }\r\n\r\n                // listen for the back button event\r\n                var page = $('#template-navigator').get(0).topPage;\r\n                page.onDeviceBackButton = function(){\r\n                    ons.notification.confirm('Do you want to close the app?') // Ask for confirmation\r\n                        .then(function(index) {\r\n                            if (index === 1) { // OK button\r\n                                navigator.app.exitApp(); // Close the app\r\n                            }\r\n                        });\r\n                };\r\n\r\n                $(\".log-in\").click(function(){\r\n                    $(\".signIn\").addClass(\"active-dx\");\r\n                    $(\".signUp\").addClass(\"inactive-sx\");\r\n                    $(\".signUp\").removeClass(\"active-sx\");\r\n                    $(\".signIn\").removeClass(\"inactive-dx\");\r\n                });\r\n\r\n                $(\".back\").click(function(){\r\n                    $(\".signUp\").addClass(\"active-sx\");\r\n                    $(\".signIn\").addClass(\"inactive-dx\");\r\n                    $(\".signIn\").removeClass(\"active-dx\");\r\n                    $(\".signUp\").removeClass(\"inactive-sx\");\r\n                });\r\n\r\n                // hide the loader\r\n                $('#loader-modal').get(0).hide();\r\n            }\r\n        }\r\n    }\r\n};\r\n"]}